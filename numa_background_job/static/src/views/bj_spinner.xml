<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve" >

    <t t-name="numa_background_job.bj_spinner" owl="1" >
        <div class="bj_spinner">
            <div >
                <p t-esc="state_msg"/>
            </div>

            <t t-if="spinner_state == 'aborted' || spinner_state == 'aborting'" >
                <div class="o_bjprogressbar">
                    <div class="o_bjprogressbar_indicator" style="background-color: #C080C0">&nbsp;</div>
                    <div class="o_bjprogressbar_frame">
                        <span class="o_bjprogressbar_value" t-esc="completion_rate + ' %'"/>
                    </div>
                </div>
                <div class="o_bjprogressbar_message" >
                    <span t-esc="current_status"/>
                </div>
                <div class="o_bjprogressbar_error" >
                    <span t-esc="error_msg"/>
                </div>
            </t>
            <t t-if="spinner_state == 'init'">
                <div class="o_bjprogressbar">
                    <div class="o_bjprogressbar_indicator" style="background-color: #C0C0C0">&nbsp;</div>
                </div>
                <div class="o_bjprogressbar_abort" >
                    <button t-on-click="() => click_abort()">
                        Cancel
                    </button>
                </div>
                <div class="o_bjprogressbar_message" >
                    <span t-esc="current_status"/>
                </div>
            </t>
            <t t-if="spinner_state == 'ended'">
                <div class="o_bjprogressbar">
                    <div class="o_bjprogressbar_indicator" style="background-color: #C0C0C0">&nbsp;</div>
                    <div class="o_bjprogressbar_frame">
                        <span class="o_bjprogressbar_value" t-esc="completion_rate + ' %'"/>
                    </div>
                </div>
                <div class="o_bjprogressbar_message" >
                    <span t-esc="current_status"/>
                </div>
                <div class="o_bjprogressbar_error" >
                    <span t-esc="error_msg"/>
                </div>
            </t>
            <t t-if="spinner_state == 'started'">
                <div class="o_bjprogressbar">
                    <div class="o_bjprogressbar_indicator" style="background-color: #C0C0C0">&nbsp;</div>
                    <div class="o_bjprogressbar_frame">
                        <span class="o_bjprogressbar_value" t-esc="completion_rate + ' %'"/>
                    </div>
                </div>
                <div class="o_bjprogressbar_message" >
                    <span t-esc="current_status"/>
                </div>
                <div class="o_bjprogressbar_abort" >
                    <button t-on-click="() => click_abort()">
                        Cancel
                    </button>
                </div>
                <div class="o_bjprogressbar_message" >
                    <span t-esc="error_msg"/>
                </div>
            </t>
        </div>
    </t>

</templates>
