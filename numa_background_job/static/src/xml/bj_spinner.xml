<?xml version="1.0" encoding="UTF-8"?>

<templates id="template" xml:space="preserve" >
    <t t-name="numa_background_job.BJSpinner" owl="1" >
        <div>
            <div >
                <p t-esc="state_msg"/>
            </div>
            <t t-if="spinner_state in ['aborted', 'aborting']" >
                <div class="o_bjprogressbar">
                    <div class="o_bjprogressbar_background"> </div>
                    <div class="o_bjprogressbar_indicator" t-att-style="'width:' + completion_rate + '%'"> </div>
                    <div class="o_bjprogressbar_frame">
                        <span class="o_bjprogressbar_value" t-esc="completion_rate + ' %'"/>
                    </div>
                </div>
                <div class="o_bjprogressbar_message" >
                    <span t-esc="current_status"/>
                </div>
                <div class="o_bjprogressbar_error" >
                    <span t-esc="error_msg"/>
                </div>
            </t>
            <t t-if="spinner_state == 'init'">
                <div class="o_bjprogressbar">
                    <div class="o_bjprogressbar_indicator"> </div>
                </div>
                <div class="o_bjprogressbar_abort" >
                    <button t-on-click="() => this.click_abort()">
                        Cancel
                    </button>
                </div>
                <div class="o_bjprogressbar_message" >
                    <span t-esc="current_status"/>
                </div>
            </t>
            <t t-if="spinner_state == 'ended'">
                <div class="o_bjprogressbar">
                    <div class="o_bjprogressbar_background"> </div>
                    <div class="o_bjprogressbar_indicator" t-att-style="'width:' + completion_rate + '%'"> </div>
                    <div class="o_bjprogressbar_frame">
                        <span class="o_bjprogressbar_value" t-esc="completion_rate + ' %'"/>
                    </div>
                </div>
                <div class="o_bjprogressbar_message" >
                    <span t-esc="current_status"/>
                </div>
                <div class="o_bjprogressbar_error" >
                    <span t-esc="error_msg"/>
                </div>
            </t>
            <t t-if="spinner_state == 'started'">
                <div class="o_bjprogressbar">
                    <div class="o_bjprogressbar_background"> </div>
                    <div class="o_bjprogressbar_indicator" t-att-style="'width:' + completion_rate + '%'"> </div>
                    <div class="o_bjprogressbar_frame">
                        <span class="o_bjprogressbar_value" t-esc="completion_rate + ' %'"/>
                    </div>
                </div>
                <div class="o_bjprogressbar_message" >
                    <span t-esc="current_status"/>
                </div>
                <div class="o_bjprogressbar_abort" >
                    <button t-on-click="() => this.click_abort()">
                        Cancel
                    </button>
                </div>
                <div class="o_bjprogressbar_message" >
                    <span t-esc="error_msg"/>
                </div>
            </t>
        </div>
    </t>

</templates>