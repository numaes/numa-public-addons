<?xml version="1.0"?>
<odoo>
	<data>
		<record id="numa_account_retenciones_search_view" model="ir.ui.view">
			<field name="name">Account Retenciones Search</field>
			<field name="model">numa.account_retencion</field>
			<field name="arch" type="xml">
				<search string="Account Retenciones">
					<field name="name"/>
					<field name="code" />
					<field name="display_name"/>
					<field name="retencion_type"/>
					<field name="monto_base"/>
					<group expand="1" name="group_by" string="Group By">
						<filter string="Retencion Type" context="{'group_by': 'retencion_type'}" />
						<filter string="Active" context="{'group_by': 'active'}"/>
					</group>
				 </search>
			</field>
		</record>
		<record id="numa_account_retencion_tree_view" model="ir.ui.view">
			<field name="name">Account Retenciones Tree</field>
			<field name="model">numa.account_retencion</field>
			<field name="arch" type="xml">
				<tree string="Account Retenciones">
					<field name="name"/>
					<field name="code" />
					<field name="display_name"/>
					<field name="retencion_type"/>
					<field name="address_type"/>
					<field name="scope"/>
					<field name="ok_servicios"/>
					<field name="ok_bienes_cambio"/>
					<field name="ok_bienes_uso"/>
					<field name="calculation_type"/>
					<field name="currency_id" invisible="1"/>
					<field name="monto_base"/>
					<field name="account_sale_id"/>
					<field name="account_sale_id_devolution"/>
				</tree>
			</field>
		</record>
		<record id="numa_account_retencion_form_view" model="ir.ui.view">
			<field name="name">Account Retencion Form</field>
			<field name="model">numa.account_retencion</field>
			<field name="arch" type="xml">
				<form string="Account Retencion">
					<header>

					</header>
					<sheet>
						<div class="oe_right oe_button_box" name="buttons">
							<div>
							 
							</div>
						</div>
						<div class="oe_title">
							<label for="name"/>
							<h1>
								<field name="name" />
							</h1>
						</div>
						<group>

						</group>
						<notebook>
							<page string="General">
								<group col="8" colspan="4">
									<group colspan="4">
										<group colspan="4">
											<field name="code" style="width:200px !important"/>
											<field name="display_retencion_name"/>
											<field name="retencion_type" widget="radio" style="width:250px !important"/>
											<field name="note"/>
										</group>
										<group string="Cuentas Contables" colspan="4">
											<field name="account_sale_id"/>
											<field name="account_sale_id_devolution"/>
											<field name="account_purchase_id"/>
											<field name="account_purchase_id_devolution"/>
											<field name="account_liquidation_id"/>
											<field name="account_payment_id"/>
										</group>
									</group>
									<group colspan="4">
										<group string="Application" colspan="4">
											<field name="ok_servicios"/>
											<field name="ok_bienes_cambio"/>
											<field name="ok_bienes_uso"/>
											<field name="devolution_option" widget="radio"/>
											<field name="address_type" widget="radio"/>
											<field name="scope" widget="radio" attrs="{'invisible':['|',('country_scope_ids','!=',[]),('state_scope_ids','!=',[])]}"/>
											<field name="country_scope_ids" attrs="{'invisible':[('scope','!=','country')]}"/>
											<field name="state_scope_ids" attrs="{'invisible':[('scope','!=','state')]}"/>
										</group>
										<group string="Calculation Mode" colspan="4">
											<group colspan="4">
												<field name="calculation_type" widget="radio"/>
												<field name="calculation_module" options="{'no_create_edit':True}" attrs="{'invisible':[('calculation_type','!=','module')],'required':[('calculation_type','=','module')]}"/>
												<field name="python_code" attrs="{'invisible':[('calculation_type','!=','python_code')],'required':[('calculation_type','=','python_code')]}"/>
											</group>
											<separator colspan="4" attrs="{'invisible':[('calculation_type','!=','basic')]}"/>
											<group colspan="4"  attrs="{'invisible':[('calculation_type','!=','basic')]}">
												<field name="monto_base" widget="radio" style="width: 30% !important;"/>
												<field name="percent" style="width:250px !important"/>
												<field name="currency_id" invisible="1"/>
												<field name="minimo_no_imponible" widget="monetary"  style="text-align: right; width: 30% !important;"/>
												<field name="retencion_minima" widget="monetary"  style="text-align: right; width: 30% !important;"/>
											</group>
										</group>
									</group>
								</group>
							</page>
							<page string="Resoluciones">
								<group>
									<field name="resolution_ids" create="0" nolabel="1"/>
								</group>
							</page>
							<page string="Razones Sociales">
								<group>
									<field name="partner_ids" create="0" nolabel="1"/>
								</group>
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>

		<record id="numa_account_percepciones_search_view" model="ir.ui.view">
			<field name="name">Account Percepciones Search</field>
			<field name="model">numa.account_percepcion</field>
			<field name="arch" type="xml">
				<search string="Account Percepciones" >
					<field name="name"/>
					<field name="code" />
					<field name="display_perception_name"/>
					<field name="percepcion_type"/>
					<field name="calculation_type"/>
					<field name="monto_base"/>
					<group expand="1" name="group_by" string="Group By">
						<filter string="Percepcion Tipe" context="{'group_by': 'percepcion_type'}" />
						<filter string="Active" context="{'group_by': 'active'}"/>
					</group>
				 </search>
			</field>
		</record>
		<record id="numa_account_percepcion_tree_view" model="ir.ui.view">
			<field name="name">Account Percepciones Tree</field>
			<field name="model">numa.account_percepcion</field>
			<field name="arch" type="xml">
				<tree string="Account Percepciones">
					<field name="name"/>
					<field name="code" />
					<field name="display_perception_name"/>
					<field name="percepcion_type"/>
					<field name="scope"/>
					<field name="ok_servicios"/>
					<field name="ok_bienes_cambio"/>
					<field name="ok_bienes_uso"/>
					<field name="calculation_type"/>
					<field name="currency_id" invisible="1"/>
					<field name="monto_base"/>
					<field name="account_sale_id"/>
					<field name="account_sale_id_devolution"/>
				</tree>
			</field>
		</record>
		<record id="numa_account_percepcion_form_view" model="ir.ui.view">
			<field name="name">Account Percepcion Form</field>
			<field name="model">numa.account_percepcion</field>
			<field name="arch" type="xml">
				<form string="Account Percepcion">
					<header>

					</header>
					<sheet>
						<div class="oe_right oe_button_box" name="buttons">
							<div>
							 
							</div>
						</div>
						<div class="oe_title">
							<label for="name"/>
							<h1>
								<field name="name" />
							</h1>
						</div>
						<group>

						</group>
						<notebook>
							<page string="General">
								<group col="8" colspan="4">
									<group colspan="4">
										<group colspan="4">
											<field name="code" style="width:200px !important"/>
											<field name="display_perception_name"/>
											<field name="percepcion_type" widget="radio" style="width:250px !important"/>
											<field name="note"/>
										</group>
										<group string="Cuentas Contables" colspan="4">
											<field name="account_sale_id"/>
											<field name="account_sale_id_devolution"/>
											<field name="account_purchase_id"/>
											<field name="account_purchase_id_devolution"/>
											<field name="account_liquidation_id"/>
											<field name="account_payment_id"/>
										</group>
									</group>
									<group colspan="4">
										<group string="Application" colspan="4">
											<field name="ok_servicios"/>
											<field name="ok_bienes_cambio"/>
											<field name="ok_bienes_uso"/>
											<field name="devolution_option" widget="radio"/>
											<field name="address_type" widget="radio"/>
											<field name="scope" widget="radio" attrs="{'invisible':['|',('country_scope_ids','!=',[]),('state_scope_ids','!=',[])]}"/>
											<field name="country_scope_ids" attrs="{'invisible':[('scope','!=','country')]}"/>
											<field name="state_scope_ids" attrs="{'invisible':[('scope','!=','state')]}"/>
										</group>
										<group string="Calculation Mode" colspan="4">
											<group colspan="4">
												<field name="calculation_type" widget="radio"/>
												<field name="calculation_module" options="{'no_create_edit':True}" attrs="{'invisible':[('calculation_type','!=','module')],'required':[('calculation_type','=','module')]}"/>
												<field name="python_code" attrs="{'invisible':[('calculation_type','!=','python_code')],'required':[('calculation_type','=','python_code')]}"/>
											</group>
											<separator colspan="4" attrs="{'invisible':[('calculation_type','!=','basic')]}"/>
											<group colspan="4"  attrs="{'invisible':[('calculation_type','!=','basic')]}">
												<field name="currency_id" invisible="1"/>
												<field name="monto_base" widget="radio" style="width: 30% !important;"/>
												<field name="percent" style="width:250px !important"/>
												<field name="currency_id" invisible="1"/>
												<field name="minimo_no_imponible" widget="monetary"  style="text-align: right; width: 30% !important;"/>
												<field name="percepcion_minima" widget="monetary"  style="text-align: right; width: 30% !important;"/>
											</group>
										</group>
									</group>
								</group>
							</page>
							<page string="Resoluciones">
								<group>
									<field name="resolution_ids" create="0" nolabel="1"/>
								</group>
							</page>
							<page string="Razones Sociales">
								<group>
									<field name="partner_ids" create="0" nolabel="1"/>
								</group>
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>

		<record id="numa_resolution_retention_perception_search_view" model="ir.ui.view">
            <field name="name">Resolution Retention Perception Search</field>
            <field name="model">numa.resolution.retention_perception</field>
            <field name="arch" type="xml">
                <search string="Resoluciones Retenciones y Percepciones" >
                    <field name="name"/>
                    <field name="description" />
                 </search>
            </field>
        </record>
        <record id="numa_resolution_retention_perceptioPerceptionn_tree_view" model="ir.ui.view">
            <field name="name">Numa Resolution Retention Tree</field>
            <field name="model">numa.resolution.retention_perception</field>
            <field name="arch" type="xml">
				<tree string="Resoluciones Retenciones y Percepciones">
                    <field name="name"/>
                    <field name="description" />
				</tree>
            </field>
        </record>
        <record id="numa_resolution_retention__perception_form_view" model="ir.ui.view">
            <field name="name">Numa Resolution Retention Perceptin Form</field>
            <field name="model">numa.resolution.retention_perception</field>
            <field name="arch" type="xml">
                <form string="Resoluciones Retenciones y Percepciones">
                    <header>

                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <div>
                             
                            </div>
                        </div>
                        <div class="oe_title">
                            <label for="name"/>
                            <h1>
                                <field name="name" />
                            </h1>
                        </div>
						<group>
							<field name="description"/>
							<field name="retention_ids"/>
							<field name="perception_ids"/>
							<field name="note"/>
						</group>
					</sheet>
                </form>
            </field>
        </record>

		<record id="numa_perception_partner_search_view" model="ir.ui.view">
            <field name="name">Perception Partner Search</field>
            <field name="model">numa.perception.partner</field>
            <field name="arch" type="xml">
                <search string="Razones Sociales Percepciones" >
                    <field name="perception_id"/>
                    <field name="partner_id" />
                    <field name="agent_recaudation" />
                    <field name="exento" />
                 </search>
            </field>
        </record>
        <record id="numa_perception_partner_tree_view" model="ir.ui.view">
            <field name="name">Numa Perception Partner Tree</field>
            <field name="model">numa.perception.partner</field>
            <field name="arch" type="xml">
				<tree string="Razones Sociales Percepciones">
                    <field name="perception_id"/>
                    <field name="partner_id" />
                    <field name="agent_recaudation" />
                    <field name="exento" />
				</tree>
            </field>
        </record>
        <record id="numa_perception_partner_form_view" model="ir.ui.view">
            <field name="name">Numa Perception Partner Form</field>
            <field name="model">numa.perception.partner</field>
            <field name="arch" type="xml">
                <form string="Razones Sociales Percepciones">
                    <header>

                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <div>
                             
                            </div>
                        </div>
                        <div class="oe_title">
                            <label for="perception_id"/>
                            <h1>
                                <field name="perception_id" />
                            </h1>
                        </div>
						<group>
							<field name="partner_id" />
							<field name="agent_recaudation" />
							<field name="exento" />
							<field name="resolution_ids" />
							<field name="note" />
						</group>
					</sheet>
                </form>
            </field>
        </record>


		<record id="numa_retention_partner_search_view" model="ir.ui.view">
            <field name="name">Retention Partner Search</field>
            <field name="model">numa.retention.partner</field>
            <field name="arch" type="xml">
                <search string="Razones Sociales Retenciones" >
                    <field name="retention_id"/>
                    <field name="partner_id" />
                    <field name="agent_recaudation" />
                    <field name="exento" />
                 </search>
            </field>
        </record>
        <record id="numa_retention_partner_tree_view" model="ir.ui.view">
            <field name="name">Numa Retention Partner Tree</field>
            <field name="model">numa.retention.partner</field>
            <field name="arch" type="xml">
				<tree string="Razones Sociales Retenciones">
                    <field name="retention_id"/>
                    <field name="partner_id" />
                    <field name="agent_recaudation" />
                    <field name="exento" />
				</tree>
            </field>
        </record>
        <record id="numa_retention_partner_form_view" model="ir.ui.view">
            <field name="name">Numa Retention Partner Form</field>
            <field name="model">numa.retention.partner</field>
            <field name="arch" type="xml">
                <form string="Razones Sociales Retenciones">
                    <header>

                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <div>
                             
                            </div>
                        </div>
                        <div class="oe_title">
                            <label for="retention_id"/>
                            <h1>
                                <field name="retention_id" />
                            </h1>
                        </div>
						<group>
							<field name="partner_id" />
							<field name="agent_recaudation" />
							<field name="exento" />
							<field name="resolution_ids" />
							<field name="note" />
						</group>
					</sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="partner_retencion_percepcion_form_view">
            <field name="name">Percepciones Retenciones Form</field>
            <field name="model">res.partner</field>
            <field name="mode">extension</field>
            <field name="inherit_id" ref="numa_account_extended.partner_impositiva_form_view" />
            <field name="arch" type="xml">
				<xpath expr="//notebook[@name='impositiva']" position="inside" >
					<page string="Percepciones" name="percepciones">
						<group colspan="4">
							<field name="percepcion_ids" nolabel="1">
								<tree string="Razones Sociales Retenciones">
									<field name="perception_id"/>
									<field name="agent_recaudation" />
									<field name="exento" />
								</tree>
								<form string="Razones Sociales Retenciones">
									<header>

									</header>
									<sheet>
										<div class="oe_right oe_button_box" name="buttons">
											<div>
											 
											</div>
										</div>
										<div class="oe_title">
											<label for="perception_id"/>
											<h1>
												<field name="perception_id" />
											</h1>
										</div>
										<group>
											<field name="agent_recaudation" />
											<field name="exento" />
											<field name="resolution_ids">
												<tree>
													<field name="resolution_id" />
													<field name="date_end" />
													<field name="special_percent" />
												</tree>
												<form string="Certificados">
													<header>

													</header>
													<sheet>
														<div class="oe_right oe_button_box" name="buttons">
															<div>
															 
															</div>
														</div>
														<div class="oe_title">
															<label for="resolution_id"/>
															<h1>
																<field name="resolution_id" />
															</h1>
														</div>
														<group>
															<field name="date_end" />
															<field name="special_percent" />
															<field name="resolution_file" />
															<field name="note" />
														</group>
													</sheet>
												</form>
											</field>
											<field name="note" />
										</group>
									</sheet>
								</form>
							</field>
						</group>
					</page>
					<page string="Retenciones" name="retenciones">
						<group colspan="4">
							<field name="retencion_ids"  nolabel="1">
								<tree string="Razones Sociales Retenciones">
									<field name="retention_id"/>
									<field name="agent_recaudation" />
									<field name="exento" />
								</tree>
								<form string="Razones Sociales Retenciones">
									<header>

									</header>
									<sheet>
										<div class="oe_right oe_button_box" name="buttons">
											<div>
											 
											</div>
										</div>
										<div class="oe_title">
											<label for="retention_id"/>
											<h1>
												<field name="retention_id" />
											</h1>
										</div>
										<group>
											<field name="agent_recaudation" />
											<field name="exento" />
											<field name="resolution_ids">
												<tree>
													<field name="resolution_id" />
													<field name="date_end" />
													<field name="special_percent" />
												</tree>
												<form string="Certificados">
													<header>

													</header>
													<sheet>
														<div class="oe_right oe_button_box" name="buttons">
															<div>
															 
															</div>
														</div>
														<div class="oe_title">
															<label for="resolution_id"/>
															<h1>
																<field name="resolution_id" />
															</h1>
														</div>
														<group>
															<field name="date_end" />
															<field name="special_percent" />
															<field name="resolution_file"/>
															<field name="note" />
														</group>
													</sheet>
												</form>
											</field>
											<field name="note" />
										</group>
									</sheet>
								</form>
							</field>
						</group>
					</page>
				</xpath>
			</field>
        </record>

		<record id="numa_account_invoice_percepciones_search_view" model="ir.ui.view">
			<field name="name">Account Invoice Percepciones Search</field>
			<field name="model">numa.account.invoice.perception</field>
			<field name="arch" type="xml">
				<search string="Account Invoice Percepciones" >
					<field name="invoice_id"/>
					<field name="name"/>
					<field name="perception_id"/>
					<field name="type_perception"/>
					<field name="currency_id"/>
					<filter string="Sale" name="sale" domain="[('type_perception','=','sale')]"/>
					<filter string="Purchase" name="purchase" domain="[('type_perception','=','purchase')]"/>
					<group expand="1" name="group_by" string="Group By">
						<filter string="Company" context="{'group_by': 'company'}" />
						<filter string="Partner" context="{'group_by': 'partner'}"/>
						<filter string="Type Perception" context="{'group_by': 'type_perception'}"/>
					</group>
				 </search>
			</field>
		</record>
		<record id="numa_account_invoice_percepcion_tree_view" model="ir.ui.view">
			<field name="name">Account Invoice Percepciones Tree</field>
			<field name="model">numa.account.invoice.perception</field>
			<field name="arch" type="xml">
				<tree string="Account Invoice Percepciones">
					<field name="date"/>
					<field name="name"/>
					<field name="account_id"/>
					<field name="base"/>
					<field name="amount"/>
					<field name="invoice_id"/>
					<field name="partner"/>
					<field name="company"/>
					<field name="perception_id"/>
					<field name="type_perception"/>
					<field name="manual"/>
					<field name="state"/>
				</tree>
			</field>
		</record>
		<record id="numa_account_invoice_percepcion_form_view" model="ir.ui.view">
			<field name="name">Account Invoice Percepcion Form</field>
			<field name="model">numa.account.invoice.perception</field>
			<field name="arch" type="xml">
				<form string="Account Invoice Percepcion">
					<header>
						<field name="state" widget="statusbar"/>
					</header>
					<sheet>
						<div class="oe_right oe_button_box" name="buttons">
							<div>

							</div>
						</div>
						<div class="">
							<label for="name"/>
							<h1>
								<field name="name" />
							</h1>
						</div>
						<group>
							<field name="date" style="width:200px !important"/>
						</group>
						<notebook>
							<page string="General">
								<group col="8" colspan="4">
									<group colspan="4">
										<group string="Data" colspan="4">
											<field name="partner"/>
											<field name="company"/>
											<field name="type_perception" widget="radio" style="width:250px !important"/>
											<field name="perception_id"/>
											<field name="account_id"/>
											<field name="manual"/>
										</group>
									</group>
									<group colspan="4">
										<group string="Values" colspan="4">
											<field name="base"/>
											<field name="amount"/>
											<field name="currency_id"/>
										</group>
									</group>
								</group>
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>

		<record id="numa_account_payment_retenciones_search_view" model="ir.ui.view">
			<field name="name">Account Payment Retenciones Search</field>
			<field name="model">numa.account.payment.retention</field>
			<field name="arch" type="xml">
				<search string="Account Payment Retentions" >
					<field name="retention_id"/>
					<field name="retention_type"/>
					<field name="currency_id"/>
					<filter string="Sale" name="sale" domain="[('retention_type','=','sale')]"/>
					<filter string="Purchase" name="purchase" domain="[('retention_type','=','purchase')]"/>
					<filter string="Borrador" name="draft" domain="[('state','=','draft')]"/>
					<filter string="Confirmadas" name="confirmed" domain="[('state','=','confirmed')]"/>
					<group expand="1" name="group_by" string="Group By">
						<filter string="Estado" context="{'group_by': 'state'}" />
						<filter string="Partner" context="{'group_by': 'partner_id'}"/>
						<filter string="Type Perception" context="{'group_by': 'retention_type'}"/>
					</group>
				 </search>
			</field>
		</record>
		<record id="numa_account_payment_retencion_tree_view" model="ir.ui.view">
			<field name="name">Account Payment Retenciones Tree</field>
			<field name="model">numa.account.payment.retention</field>
			<field name="arch" type="xml">
				<tree string="Account Payment Retentions">
					<field name="date"/>
					<field name="name"/>
					<field name="account_id"/>
					<field name="base"/>
					<field name="partner_id"/>
					<field name="percent"/>
					<field name="retention_id"/>
					<field name="retention_type"/>
					<field name="retention_number"/>
					<field name="retention_file"/>
					<field name="manual"/>
					<field name="state"/>
				</tree>
			</field>
		</record>
		<record id="numa_account_payment_retencion_form_view" model="ir.ui.view">
			<field name="name">Account Payment Retention Form</field>
			<field name="model">numa.account.payment.retention</field>
			<field name="arch" type="xml">
				<form string="Account Payment Retention">
					<header>
						<field name="state" widget="statusbar"/>
					</header>
					<sheet>
						<div class="oe_right oe_button_box" name="buttons">
							<div>

							</div>
						</div>
						<div class="">
							<label for="name"/>
							<h1>
								<field name="name" />
							</h1>
						</div>
						<group>
							<field name="date" style="width:200px !important"/>
						</group>
						<notebook>
							<page string="General">
								<group col="8" colspan="4">
									<group colspan="4">
										<group string="Data" colspan="4">
											<field name="partner_id"/>
											<field name="retention_type" widget="radio" style="width:250px !important"/>
											<field name="retention_id"/>
											<field name="account_id"/>
											<field name="manual"/>
										</group>
									</group>
									<group colspan="4">
										<group string="Values" colspan="4">
											<field name="base"/>
											<field name="currency_id"/>
										</group>
									</group>
								</group>
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>

        <record model="ir.ui.view" id="numa_account_invoice_form_view">
            <field name="name">Numa Account Invoice Form</field>
            <field name="model">account.invoice</field>
            <field name="mode">extension</field>
            <field name="inherit_id" ref="account.invoice_form" />
            <field name="arch" type="xml">
				<xpath expr="//notebook/page/group" position="replace" ></xpath>
				<xpath expr="//field[@name='tax_line_ids']" position="replace" ></xpath>
				<xpath expr="//field[@name='invoice_line_ids']" position="after">
					<group col="8" colspan="4">
						<group colspan="4">
							<field name="tax_line_ids"  nolabel="1"  colspan="4">
								<tree editable="bottom" string="Taxes" create="0" edit="0" delete="0">
									<field name="name"/>
									<!--Need invisible fields for on_change to create all necessary info -->
									<field name="tax_id" invisible="1"/>
									<field name="account_analytic_id" invisible="1"/>
									<field name="sequence" invisible="1"/>
									<field name="manual" invisible="1"/>
									<field name="account_id" groups="account.group_account_user"/>
									<field name="base" sum="Total"/>
									<field name="amount" sum="Total"/>
									<field name="currency_id" invisible="1"/>
								</tree>
							</field>
							<field name="perception_ids" nolabel="1"  colspan="4">
								<tree editable="bottom" string="Perceptions" create="0" edit="0" delete="0">
                                    <field name="perception_id" invisible="1"/>
									<field name="name"/>
									<!--Need invisible fields for on_change to create all necessary info -->
									<field name="manual" invisible="1"/>
									<field name="account_id" invisible="1"/>
									<field name="base" sum="Total"/>
									<field name="percent"/>
									<field name="amount" sum="Total"/>
									<field name="currency_id" invisible="1"/>
								</tree>
							</field>
						</group>
						<div style="background:#efeff8; width: 40%; margin-top: 10px; float: right;">
							<table class="o_list_view table table-condensed table-striped">
								<thead>
									<tr>
										<th>
											Totales
										</th>
									</tr>
								</thead>
							</table>
							<group colspan="4" class="oe_subtotal_footer oe_right" name="invoice_totals">
								<field name="amount_untaxed"/>
								<field name="amount_tax"/>
								<field name="amount_perceptions"/>
								<field name="amount_total" class="oe_subtotal_footer_separator"/>
								<field name="payments_widget" colspan="2" nolabel="1" widget="payment"/>
								<field name="residual" class="oe_subtotal_footer_separator" attrs="{'invisible': [('state', '=', 'draft')]}"/>
								<field name="reconciled" invisible="1"/>
								<field name="outstanding_credits_debits_widget" colspan="2" nolabel="1" widget="payment" attrs="{'invisible': [('state', 'not in', ['open'])]}"/>
							</group>
						</div>
					</group>
                </xpath>
			</field>
        </record>

        <record model="ir.ui.view" id="numa_account_invoice_supplier_form_view">
            <field name="name">Numa Account Invoice Supplier Form</field>
            <field name="model">account.invoice</field>
            <field name="mode">extension</field>
            <field name="inherit_id" ref="account.invoice_supplier_form" />
            <field name="arch" type="xml">
				<xpath expr="//notebook/page/group" position="replace" ></xpath>
				<xpath expr="//field[@name='invoice_line_ids']" position="after">
					<group col="8" colspan="4">
						<group colspan="4">
							<field name="tax_line_ids"  nolabel="1"  colspan="4">
								<tree editable="bottom" string="Taxes" create="0" edit="0" delete="0">
									<field name="name"/>
									<!--Need invisible fields for on_change to create all necessary info -->
									<field name="tax_id" invisible="1"/>
									<field name="account_analytic_id" invisible="1"/>
									<field name="sequence" invisible="1"/>
									<field name="manual" invisible="1"/>
									<field name="account_id" groups="account.group_account_user"/>
									<field name="base" sum="Total"/>
									<field name="amount" sum="Total"/>
									<field name="currency_id" invisible="1"/>
								</tree>
							</field>
							<field name="perception_ids" nolabel="1"  colspan="4">
								<tree editable="bottom" string="Perceptions" create="0" edit="0" delete="0">
                                    <field name="perception_id" invisible="1"/>
									<field name="name"/>
									<!--Need invisible fields for on_change to create all necessary info -->
									<field name="manual" invisible="1"/>
									<field name="account_id" invisible="1"/>
									<field name="base" sum="Total"/>
									<field name="percent"/>
									<field name="amount" sum="Total"/>
									<field name="currency_id" invisible="1"/>
								</tree>
							</field>
						</group>
						<div style="background:#efeff8; width: 40%; margin-top: 10px; float: right;">
							<table class="o_list_view table table-condensed table-striped">
								<thead>
									<tr>
										<th>
											Totales
										</th>
									</tr>
								</thead>
							</table>
							<group colspan="4" class="oe_subtotal_footer oe_right" name="invoice_totals">
								<field name="amount_untaxed"/>
								<field name="amount_tax"/>
								<field name="amount_perceptions"/>
								<field name="amount_total" class="oe_subtotal_footer_separator"/>
								<field name="payments_widget" colspan="2" nolabel="1" widget="payment"/>
								<field name="residual" class="oe_subtotal_footer_separator" attrs="{'invisible': [('state', '=', 'draft')]}"/>
								<field name="reconciled" invisible="1"/>
								<field name="outstanding_credits_debits_widget" colspan="2" nolabel="1" widget="payment" attrs="{'invisible': [('state', 'not in', ['open'])]}"/>
							</group>
						</div>
					</group>
                </xpath>
			</field>
        </record>

		<record id="numa_account_retention_action" model="ir.actions.act_window">
			<field name="name">Retenciones</field>
			<field name="res_model">numa.account_retencion</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>

		<record id="numa_account_perception_action" model="ir.actions.act_window">
			<field name="name">Percepciones</field>
			<field name="res_model">numa.account_percepcion</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>

		<record id="numa_account_resolution_retention_perception_action" model="ir.actions.act_window">
			<field name="name">Resoluciones Retenciones y Percepciones</field>
			<field name="res_model">numa.resolution.retention_perception</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>

		<record id="numa_account_rz_perception_action" model="ir.actions.act_window">
			<field name="name">Razones Sociales</field>
			<field name="res_model">numa.perception.partner</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>

		<record id="numa_account_rz_retention_action" model="ir.actions.act_window">
			<field name="name">Razones Sociales</field>
			<field name="res_model">numa.retention.partner</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>
		
		<record id="numa_account_certificados_retention_action" model="ir.actions.act_window">
			<field name="name">Certificados</field>
			<field name="res_model">numa.resolution.retention.partner</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>

		<record id="numa_account_certificados_perception_action" model="ir.actions.act_window">
			<field name="name">Certificados</field>
			<field name="res_model">numa.resolution.perception.partner</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>

		<menuitem name="Percepciones" id="numa_account_perception_menu" parent="numa_impositiva_menu" sequence="20" />
		<menuitem name="Percepciones" action="numa_account_perception_action" id="numa_account_percepcion_menu" parent="numa_account_perception_menu" sequence="10" />
		<menuitem name="Resoluciones" action="numa_account_resolution_retention_perception_action" id="numa_account_resolution_perception_menu" parent="numa_account_perception_menu" sequence="20" />
		<menuitem name="Razones Sociales" action="numa_account_rz_perception_action" id="numa_account_rz_percepcion_menu" parent="numa_account_perception_menu" sequence="30" />
		<menuitem name="Certificados" action="numa_account_certificados_perception_action" id="numa_account_certificados_perception_menu" parent="numa_account_perception_menu" sequence="40" />

		<menuitem name="Retenciones" id="numa_account_retention_menu" parent="numa_impositiva_menu" sequence="30" />
		<menuitem name="Retenciones" action="numa_account_retention_action" id="numa_account_retencion_menu" parent="numa_account_retention_menu" sequence="10" />
		<menuitem name="Resoluciones" action="numa_account_resolution_retention_perception_action" id="numa_account_resolution_retention_menu" parent="numa_account_retention_menu" sequence="20" />
		<menuitem name="Razones Sociales" action="numa_account_rz_retention_action" id="numa_account_rz_retention_menu" parent="numa_account_retention_menu" sequence="30" />
		<menuitem name="Certificados" action="numa_account_certificados_retention_action" id="numa_account_certificados_retention_menu" parent="numa_account_retention_menu" sequence="40" />

		<record id="numa_account_invoice_percepcion_action" model="ir.actions.act_window">
			<field name="name">Invoice Percepciones</field>
			<field name="res_model">numa.account.invoice.perception</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>

		<record id="numa_account_payment_retention_action" model="ir.actions.act_window">
			<field name="name">Payment Retention</field>
			<field name="res_model">numa.account.payment.retention</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>

		<menuitem name="Retenciones y Percepciones" id="numa_account_invoice_retencion_percepcion_menu" parent="account.menu_finance_entries" sequence="30" />
		<menuitem name="Percepciones" action="numa_account_invoice_percepcion_action" id="numa_account_invoice_percepcion_menu" parent="numa_account_invoice_retencion_percepcion_menu" sequence="20" />
		<menuitem name="Retenciones" action="numa_account_payment_retention_action" id="numa_account_payment_retention_menu" parent="numa_account_invoice_retencion_percepcion_menu" sequence="30" />

	</data>
</odoo>
